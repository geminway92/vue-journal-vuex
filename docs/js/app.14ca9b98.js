(function(e){function t(t){for(var r,a,i=t[0],c=t[1],s=t[2],d=0,f=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);p&&p(t);while(f.length)f.shift()();return u.push.apply(u,s||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],r=!0,a=1;a<n.length;a++){var i=n[a];0!==o[i]&&(r=!1)}r&&(u.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},o={app:0},u=[];function i(e){return c.p+"js/"+({AuthLayout:"AuthLayout","Login~Register~entryview":"Login~Register~entryview",Login:"Login",Register:"Register",entryview:"entryview",daybook:"daybook","daybook-no-entry":"daybook-no-entry"}[e]||e)+"."+{AuthLayout:"44390179","Login~Register~entryview":"0b8ff848",Login:"acafb2a9",Register:"ed3ff9c6",entryview:"f01aba5d",daybook:"6d7d7dc0","daybook-no-entry":"3575cc0b","chunk-3f2d1e49":"4b1292d4","chunk-07bcc78a":"8965b531","chunk-efbbcc16":"05966128","chunk-4489a61e":"6043ae66"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={AuthLayout:1,entryview:1,"daybook-no-entry":1,"chunk-3f2d1e49":1,"chunk-07bcc78a":1,"chunk-4489a61e":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({AuthLayout:"AuthLayout","Login~Register~entryview":"Login~Register~entryview",Login:"Login",Register:"Register",entryview:"entryview",daybook:"daybook","daybook-no-entry":"daybook-no-entry"}[e]||e)+"."+{AuthLayout:"bf3d23ba","Login~Register~entryview":"31d6cfe0",Login:"31d6cfe0",Register:"31d6cfe0",entryview:"858511b1",daybook:"31d6cfe0","daybook-no-entry":"8060fc25","chunk-3f2d1e49":"60910625","chunk-07bcc78a":"64366e3b","chunk-efbbcc16":"31d6cfe0","chunk-4489a61e":"c2516dc8"}[e]+".css",o=c.p+r,u=document.getElementsByTagName("link"),i=0;i<u.length;i++){var s=u[i],d=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(d===r||d===o))return t()}var f=document.getElementsByTagName("style");for(i=0;i<f.length;i++){s=f[i],d=s.getAttribute("data-href");if(d===r||d===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||o,u=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");u.code="CSS_CHUNK_LOAD_FAILED",u.request=r,delete a[e],p.parentNode.removeChild(p),n(u)},p.href=o;var l=document.getElementsByTagName("head")[0];l.appendChild(p)})).then((function(){a[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var u=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=u);var s,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=i(e);var f=new Error;s=function(t){d.onerror=d.onload=null,clearTimeout(p);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",f.name="ChunkLoadError",f.type=r,f.request=a,n[1](f)}o[e]=void 0}};var p=setTimeout((function(){s({type:"timeout",target:d})}),12e4);d.onerror=d.onload=s,document.head.appendChild(d)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=t,s=s.slice();for(var f=0;f<s.length;f++)t(s[f]);var p=d;u.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1cff":function(e,t,n){"use strict";var r=n("1da1"),a=(n("96cf"),n("7a23")),o=n("5502"),u=function(){var e=Object(o["e"])(),t=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch("auth/createUser",n);case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch("auth/signInUser",n);case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch("auth/checkAuthentication");case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=function(){e.commit("auth/logout"),e.commit("journal/clearEntries")};return{checkAuthStatus:u,createUser:t,loginUser:n,logout:i,authStatus:Object(a["b"])((function(){return e.getters["auth/currentState"]})),username:Object(a["b"])((function(){return e.getters["auth/username"]}))}};t["a"]=u},"3c61":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"loadEntries",(function(){return T})),n.d(r,"updateEntry",(function(){return L})),n.d(r,"createEntry",(function(){return S})),n.d(r,"deleteEntry",(function(){return E}));var a={};n.r(a),n.d(a,"getEntriesByTerm",(function(){return A})),n.d(a,"getEntryById",(function(){return P}));var o={};n.r(o),n.d(o,"setEntries",(function(){return U})),n.d(o,"updateEntry",(function(){return C})),n.d(o,"addEntry",(function(){return N})),n.d(o,"deleteEntry",(function(){return _})),n.d(o,"clearEntries",(function(){return M}));var u={};n.r(u),n.d(u,"createUser",(function(){return z})),n.d(u,"signInUser",(function(){return H})),n.d(u,"checkAuthentication",(function(){return K}));var i={};n.r(i),n.d(i,"currentState",(function(){return W})),n.d(i,"username",(function(){return G}));var c={};n.r(c),n.d(c,"loginUser",(function(){return Q})),n.d(c,"logout",(function(){return V}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("7a23"),d={key:0};function f(e,t,n,r,a,o){var u=Object(s["A"])("router-view");return"authenthicating"===r.authStatus?(Object(s["t"])(),Object(s["f"])("h1",d,Object(s["C"])(r.authStatus),1)):(Object(s["t"])(),Object(s["d"])(u,{key:1}))}var p=n("1cff"),l={setup:function(){var e=Object(p["a"])(),t=e.authStatus,n=e.checkAuthStatus;return n(),{authStatus:t}}};l.render=f;var h=l,m=n("5530"),g=n("6c02"),b=(n("d3b7"),n("3ca3"),n("ddb0"),{name:"auth",component:function(){return n.e("AuthLayout").then(n.bind(null,"c045"))},children:[{path:"",name:"login",component:function(){return Promise.all([n.e("Login~Register~entryview"),n.e("Login")]).then(n.bind(null,"8f17"))}},{path:"register",name:"register",component:function(){return Promise.all([n.e("Login~Register~entryview"),n.e("Register")]).then(n.bind(null,"0783"))}}]}),v={name:"daybook",component:function(){return n.e("daybook").then(n.bind(null,"171c"))},children:[{path:"",name:"no-entry",component:function(){return n.e("daybook-no-entry").then(n.bind(null,"aafc"))}},{path:":id",name:"entry",component:function(){return Promise.all([n.e("Login~Register~entryview"),n.e("entryview")]).then(n.bind(null,"d36b"))},props:function(e){return{id:e.params.id}}}]},y=n("1da1"),k=(n("96cf"),n("5502")),w=function(){return{isLoading:!0,entries:[]}},j=(n("b64b"),n("b0c0"),n("bc3a")),O=n.n(j),R=O.a.create({baseURL:"https://vue-demos-5e237-default-rtdb.firebaseio.com/"});R.interceptors.request.use((function(e){return e.params={auth:localStorage.getItem("idToken")},e}));var x=R,T=function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,o,u,i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,x.get("/entries.json");case 3:if(r=e.sent,a=r.data,a){e.next=8;break}return n("setEntries",[]),e.abrupt("return");case 8:for(o=[],u=0,i=Object.keys(a);u<i.length;u++)c=i[u],o.push(Object(m["a"])({id:c},a[c]));n("setEntries",o);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,o,u,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=n.date,o=n.picture,u=n.text,i={date:a,picture:o,text:u},e.next=5,x.put("/entries/".concat(n.id,".json"),i);case 5:i.id=n.id,r("updateEntry",Object(m["a"])({},i));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,o,u,i,c,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=n.date,o=n.picture,u=n.text,i={date:a,picture:o,text:u},e.next=5,x.post("entries.json",i);case 5:return c=e.sent,s=c.data,i.id=s.name,r("addEntry",i),e.abrupt("return",s.name);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,x.delete("/entries/".concat(n,".json"));case 3:return r("deleteEntry",n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A=(n("4de4"),n("caad"),n("2532"),n("7db0"),function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return 0===t.length?e.entries:e.entries.filter((function(e){return e.text.toLowerCase().includes(t.toLocaleLowerCase())}))}}),P=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=e.entries.find((function(e){return e.id===t}));if(n)return Object(m["a"])({},n)}},I=n("2909"),U=(n("99af"),n("d81d"),function(e,t){e.entries=[].concat(Object(I["a"])(e.entries),Object(I["a"])(t)),e.isLoading=!1}),C=function(e,t){var n=e.entries.map((function(e){return e.id})).indexOf(t.id);e.entries[n]=t},N=function(e,t){e.entries=[t].concat(Object(I["a"])(e.entries))},_=function(e,t){e.entries=e.entries.filter((function(e){return e.id!==t}))},M=function(e){e.entries=[]},B={namespaced:!0,actions:r,getters:a,mutations:o,state:w},q=B,J=function(){return{status:"authenthicating",user:null,idToken:null,refreshToken:null}},D=O.a.create({baseURL:"https://identitytoolkit.googleapis.com/v1/accounts",params:{key:"AIzaSyABSwNSpFpO_kMNAM9C1MoiC8hc1xPyJ1I"}}),F=D,z=function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,o,u,i,c,s,d,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=n.name,o=n.email,u=n.password,e.prev=2,e.next=5,F.post(":signUp",{email:o,password:u,returnSecureToken:!0});case 5:return i=e.sent,c=i.data,s=c.idToken,d=c.refreshToken,e.next=10,F.post(":update",{displayName:a,idToken:s});case 10:return f=e.sent,console.log(f),delete n.password,r("loginUser",{user:n,idToken:s,refreshToken:d}),e.abrupt("return",{ok:!0});case 17:return e.prev=17,e.t0=e["catch"](2),e.abrupt("return",{ok:!1,message:e.t0.response.data.error.message});case 20:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t,n){return e.apply(this,arguments)}}(),H=function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,o,u,i,c,s,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=n.email,o=n.password,e.prev=2,e.next=5,F.post(":signInWithPassword",{email:a,password:o,returnSecureToken:!0});case 5:return u=e.sent,i=u.data,c=i.displayName,s=i.idToken,d=i.refreshToken,n.name=c,r("loginUser",{user:n,idToken:s,refreshToken:d}),e.abrupt("return",{ok:!0});case 13:return e.prev=13,e.t0=e["catch"](2),e.abrupt("return",{ok:!1,message:e.t0.response.data.error.message});case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,n){return e.apply(this,arguments)}}(),K=function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,o,u,i,c,s,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,r=localStorage.getItem("idToken"),a=localStorage.getItem("refreshToken"),r){e.next=6;break}return n("logout"),e.abrupt("return",{ok:!1,message:"No hay token"});case 6:return e.prev=6,e.next=9,F.post(":lookup",{idToken:r});case 9:return o=e.sent,u=o.data,i=u.users[0],c=i.displayName,s=i.email,d={name:c,email:s},n("loginUser",{user:d,idToken:r,refreshToken:a}),e.abrupt("return",{ok:!0});case 17:return e.prev=17,e.t0=e["catch"](6),n("logout"),e.abrupt("return",{ok:!1,message:e.t0.response.data.error.message});case 21:case"end":return e.stop()}}),e,null,[[6,17]])})));return function(t){return e.apply(this,arguments)}}(),W=function(e){return e.status},G=function(e){var t;return(null===(t=e.user)||void 0===t?void 0:t.name)||""},Q=function(e,t){var n=t.user,r=t.idToken,a=t.refreshToken;r&&(localStorage.setItem("idToken",r),e.idToken=r),a&&(localStorage.setItem("refreshToken",a),e.refreshToken=a),e.user=n,e.status="authenthicated"},V=function(e){e.user=null,e.idToken=null,e.refreshToken=null,e.status="not-authenticated",localStorage.removeItem("idToken"),localStorage.removeItem("refreshToken")},X={namespaced:!0,actions:u,getters:i,mutations:c,state:J},Y=X,Z=Object(k["a"])({modules:{auth:Y,journal:q}}),$=Z,ee=function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,$.dispatch("auth/checkAuthentication");case 2:a=e.sent,o=a.ok,o?r():r({name:"login"});case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),te=ee,ne=[Object(m["a"])({path:"/"},b),Object(m["a"])({path:"/daybook",beforeEnter:[te]},v)],re=Object(g["a"])({history:Object(g["b"])(),routes:ne}),ae=re;n("3c61");Object(s["c"])(h).use($).use(ae).mount("#app")}});
//# sourceMappingURL=app.14ca9b98.js.map